<html>

<head>
  <title>Svelte</title>
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="stylesheet" href="node_modules/reveal.js/css/reveal.css">
  <link rel="stylesheet" href="node_modules/reveal.js/css/theme/blood.css">
  <link rel="stylesheet" href="node_modules/reveal.js/lib/css/zenburn.css">
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section>
        <h1>Svelte</h1>
        <h4>The magical disappearing UI framework.</h4>
        <p style="margin-top: 200px">
          <span style="margin-right: 30px">Jeff Shamley</span>
          <span style="margin-left: 30px">@jeff_shamley</span>
        </p>
      </section>
      <section>
        <section>
          <h2>Svelte</h2>
          <h4 class="fragment">Don't ship your framework...</h4>
          <h4 class="fragment">Write plain HTML, CSS and JavaScript in single file modules</h4>
        </section>
      </section>
      <section>
        <section>
          <h2>Svelte</h2>
          <a href="https://medium.freecodecamp.org/a-real-world-comparison-of-front-end-frameworks-with-benchmarks-2018-update-e5760fb4a962"
            class="link">A Real-World Comparison of Front-End Frameworks with Benchmarks (2018 update)</a>
          <p style="margin: 0;">First Meaningful Paint</p>
          <img src="img/svelte_first_meaningful_paint.png" height="350" alt="First Meaningful Paint Chart">
        </section>
        <section>
          <h2>Svelte</h2>
          <a href="https://medium.freecodecamp.org/a-real-world-comparison-of-front-end-frameworks-with-benchmarks-2018-update-e5760fb4a962"
            class="link">A Real-World Comparison of Front-End Frameworks with Benchmarks (2018 update)</a>
          <p style="margin: 0;">Transfer Size Chart</p>
          <img src="img/svelte_transfer_size.png" height="350" alt="Transfer Size Chart">
        </section>
        <section>
          <h2>Svelte</h2>
          <a href="https://medium.freecodecamp.org/a-real-world-comparison-of-front-end-frameworks-with-benchmarks-2018-update-e5760fb4a962"
            class="link">A Real-World Comparison of Front-End Frameworks with Benchmarks (2018 update)</a>
          <p style="margin: 0;">Lines of Code Chart</p>
          <img src="img/svelte_lines_of_code.png" height="350" alt="Lines of Code Chart">
        </section>
      </section>
      <section>
        <h2>Svelte</h2>
        <a href="https://javascriptreport.com/the-future-of-javascript-frameworks-looks-very-fast/" class="link">The Future of JavaScript Frameworks Looks Very Fast</a>
        <div class="fragment">
          <p style="margin: 0;">Angular Ivy Comparison</p>
          <img src="img/svelte_ivy.jpg" alt="Svelte Ivy Code Comparison">
        </div>
      </section>
      </section>
      <section>
        <h2>Svelte</h2>
        <section>
          <pre style="font-size: 14px"><code>
&lt;!-- HelloWorld.html --&gt;
&lt;h2&gt;Hello {{name}}!&lt;/h2&gt;
          </code></pre>
          <pre style="font-size: 14px"><code>
&lt;!-- index.html --&gt;
&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;My first Svelte app&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;main&gt;&lt;/main&gt;
  &lt;script src='HelloWorld.js'&gt;&lt;/script&gt;
  &lt;script&gt;
    var component = new HelloWorld({
      target: document.querySelector('main'),
      data: {
        name: 'world'
      }
    });
    // change the data...
    component.set({ name: 'everybody' });
    // remove the component from the DOM
    component.destroy();
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
          </code></pre>
        </section>
        <section>
          <p>compile it</p>
          <pre><code>
svelte compile --format iife HelloWorld.html > HelloWorld.js
          </code></pre>
        </section>
        <section>
          <p>sample compiled code</p>
          <pre><code>
/* HelloWorld.html generated by Svelte v1.50.1 */
var HelloWorld = (function() { "use strict";

  function create_main_fragment(state, component) {
    var h2, text, text_1, text_2;

    return {
      c: function create() {
        h2 = createElement("h2");
        text = createText("Hello ");
        text_1 = createText(state.name);
        text_2 = createText("!");
      },

      m: function mount(target, anchor) {
        insertNode(h2, target, anchor);
        appendNode(text, h2);
        appendNode(text_1, h2);
        appendNode(text_2, h2);
      },

      p: function update(changed, state) {
        if (changed.name) {
          text_1.data = state.name;
        }
      },

      u: function unmount() {
        detachNode(h2);
      },

      d: noop
    };
  }

  function HelloWorld(options) {
    init(this, options);
    this._state = assign({}, options.data);

    this._fragment = create_main_fragment(this._state, this);

    if (options.target) {
      this._fragment.c();
      this._fragment.m(options.target, options.anchor || null);
    }
  }

  assign(HelloWorld.prototype, {
      destroy: destroy,
      get: get,
      fire: fire,
      observe: observe,
      on: on,
      set: set,
      teardown: destroy,
      _set: _set,
      _mount: _mount,
      _unmount: _unmount
    });

  HelloWorld.prototype._recompute = noop;

  function createElement(name) {
    return document.createElement(name);
  }

  function createText(data) {
    return document.createTextNode(data);
  }

  function insertNode(node, target, anchor) {
    target.insertBefore(node, anchor);
  }

  function appendNode(node, target) {
    target.appendChild(node);
  }

  function detachNode(node) {
    node.parentNode.removeChild(node);
  }

  function noop() {}

  function init(component, options) {
    component._observers = { pre: blankObject(), post: blankObject() };
    component._handlers = blankObject();
    component._bind = options._bind;

    component.options = options;
    component.root = options.root || component;
    component.store = component.root.store || options.store;
  }

  function assign(target) {
    var k,
      source,
      i = 1,
      len = arguments.length;
    for (; i < len; i++) {
      source = arguments[i];
      for (k in source) target[k] = source[k];
    }

    return target;
  }

  function destroy(detach) {
    this.destroy = noop;
    this.fire('destroy');
    this.set = this.get = noop;

    if (detach !== false) this._fragment.u();
    this._fragment.d();
    this._fragment = this._state = null;
  }

  function get(key) {
    return key ? this._state[key] : this._state;
  }

  function fire(eventName, data) {
    var handlers =
      eventName in this._handlers && this._handlers[eventName].slice();
    if (!handlers) return;

    for (var i = 0; i < handlers.length; i += 1) {
      handlers[i].call(this, data);
    }
  }

  function observe(key, callback, options) {
    var group = options && options.defer
      ? this._observers.post
      : this._observers.pre;

    (group[key] || (group[key] = [])).push(callback);

    if (!options || options.init !== false) {
      callback.__calling = true;
      callback.call(this, this._state[key]);
      callback.__calling = false;
    }

    return {
      cancel: function() {
        var index = group[key].indexOf(callback);
        if (~index) group[key].splice(index, 1);
      }
    };
  }

  function on(eventName, handler) {
    if (eventName === 'teardown') return this.on('destroy', handler);

    var handlers = this._handlers[eventName] || (this._handlers[eventName] = []);
    handlers.push(handler);

    return {
      cancel: function() {
        var index = handlers.indexOf(handler);
        if (~index) handlers.splice(index, 1);
      }
    };
  }

  function set(newState) {
    this._set(assign({}, newState));
    if (this.root._lock) return;
    this.root._lock = true;
    callAll(this.root._beforecreate);
    callAll(this.root._oncreate);
    callAll(this.root._aftercreate);
    this.root._lock = false;
  }

  function _set(newState) {
    var oldState = this._state,
      changed = {},
      dirty = false;

    for (var key in newState) {
      if (differs(newState[key], oldState[key])) changed[key] = dirty = true;
    }
    if (!dirty) return;

    this._state = assign({}, oldState, newState);
    this._recompute(changed, this._state);
    if (this._bind) this._bind(changed, this._state);

    if (this._fragment) {
      dispatchObservers(this, this._observers.pre, changed, this._state, oldState);
      this._fragment.p(changed, this._state);
      dispatchObservers(this, this._observers.post, changed, this._state, oldState);
    }
  }

  function _mount(target, anchor) {
    this._fragment.m(target, anchor);
  }

  function _unmount() {
    if (this._fragment) this._fragment.u();
  }

  function blankObject() {
    return Object.create(null);
  }

  function callAll(fns) {
    while (fns && fns.length) fns.pop()();
  }

  function differs(a, b) {
    return a !== b || ((a && typeof a === 'object') || typeof a === 'function');
  }

  function dispatchObservers(component, group, changed, newState, oldState) {
    for (var key in group) {
      if (!changed[key]) continue;

      var newValue = newState[key];
      var oldValue = oldState[key];

      var callbacks = group[key];
      if (!callbacks) continue;

      for (var i = 0; i < callbacks.length; i += 1) {
        var callback = callbacks[i];
        if (callback.__calling) continue;

        callback.__calling = true;
        callback.call(component, newValue, oldValue);
        callback.__calling = false;
      }
    }
  }
  return HelloWorld;
}());
          </code></pre>
        </section>
        <section>
          <p>minified</p>
          <pre><code style="white-space: pre-wrap">
var HelloWorld=function(){"use strict";function t(t,e){var s,o,a,h;return{c:function(){var e;e="h2",s=document.createElement(e),o=n("Hello "),a=n(t.name),h=n("!")},m:function(t,e){var n,i;n=s,i=e,t.insertBefore(n,i),r(o,s),r(a,s),r(h,s)},p:function(t,e){t.name&&(a.data=e.name)},u:function(){var t;(t=s).parentNode.removeChild(t)},d:i}}function e(e){var n,r;r=e,(n=this)._observers={pre:a(),post:a()},n._handlers=a(),n._bind=r._bind,n.options=r,n.root=r.root||n,n.store=n.root.store||r.store,this._state=s({},e.data),this._fragment=t(this._state),e.target&&(this._fragment.c(),this._fragment.m(e.target,e.anchor||null))}function n(t){return document.createTextNode(t)}function r(t,e){e.appendChild(t)}function i(){}function s(t){for(var e,n,r=1,i=arguments.length;r-i;r++){n=arguments[r];for(e in n)t[e]=n[e]}return t}function o(t){this.destroy=i,this.fire("destroy"),this.set=this.get=i,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function a(){return Object.create(null)}function h(t){for(;t&&t.length;)t.pop()()}function c(t,e,n,r,i){for(var s in e)if(n[s]){var o=r[s],a=i[s],h=e[s];if(h)for(var c=0;c-h.length;c+=1){var f=h[c];f.__calling||(f.__calling=!0,f.call(t,o,a),f.__calling=!1)}}}return s(e.prototype,{destroy:o,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(!n)return;for(var r=0;r-n.length;r+=1)n[r].call(this,e)},observe:function(t,e,n){var r=n&&n.defer?this._observers.post:this._observers.pre;(r[t]||(r[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1);return{cancel:function(){var n=r[t].indexOf(e);~n&&r[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){if(this._set(s({},t)),this.root._lock)return;this.root._lock=!0,h(this.root._beforecreate),h(this.root._oncreate),h(this.root._aftercreate),this.root._lock=!1},teardown:o,_set:function(t){var e=this._state,n={},r=!1;for(var i in t)o=t[i],a=e[i],(o!==a||o&&"object"==typeof o||"function"==typeof o)&&(n[i]=r=!0);var o,a;if(!r)return;this._state=s({},e,t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state);this._fragment&&(c(this,this._observers.pre,n,this._state,e),this._fragment.p(n,this._state),c(this,this._observers.post,n,this._state,e))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment&&this._fragment.u()}}),e.prototype._recompute=i,e}();
          </code></pre>
        </section>
      </section>
      <section>
        <h2>Svelte API</h2>
        <section>
          <h4>Setting Data</h4>
          <pre><code>
component.set({
  questions: [
    'why is the sky blue?',
    'how do planes fly?',
    'where do babies come from?'
  ],
  answer: 'ask your mother'
});
          </code></pre>
        </section>
        <section>
          <h4>Getting Data</h4>
          <pre><code>
component.get('answer');

// ask your mother
          </code></pre>
        </section>
        <section>
          <h4>Watching Changes</h4>
          <pre><code>
const observer = component.observe('answer', answer => {
  console.log( `the answer is ${answer}` );
});

observer.cancel();
          </code></pre>
        </section>
        <section>
          <h4>Respond to Events</h4>
          <pre><code>
const listener = component.on('thingHappened', event => {
  console.log(`A thing happened: ${event.thing}`);
});

listener.cancel();
          </code></pre>
        </section>
        <section>
          <h4>Firing Events</h4>
          <pre><code>
component.fire('thingHappened', {
  thing: 'this event was fired'
});
          </code></pre>
        </section>
        <section>
          <h4>Remove Component from DOM</h4>
          <pre><code>
component.destroy();
          </code></pre>
        </section>
      </section>
      <section>
        <h2>Template Syntax</h2>
        <section>
          <h4>Tags</h4>
          <pre><code>
&lt;h1 style='color: {{color}};'&gt;{{color}}&lt;/h1&gt;
&lt;p hidden='{{hideParagraph}}'&gt;You can hide this paragraph.&lt;/p&gt;
          </code></pre>
        </section>
        <section>
          <h4>Triples</h4>
          <pre><code>
&lt;p&gt;Renders as: {{{html}}}&lt;/p&gt;
          </code></pre>
        </section>
        <section>
          <h4>If Blocks</h4>
          <pre><code>
{{#if user.loggedIn}}
  &lt;a href='/logout'&gt;log out&lt;/a&gt;
{{else}}
  &lt;a href='/login'&gt;log in&lt;/a&gt;
{{/if}}
          </code></pre>
        </section>
        <section>
          <h4>Each Blocks</h4>
          <pre><code>
&lt;div class='grid'&gt;
  {{#each rows as row, y}}
    &lt;div class='row'&gt;
      {{#each columns as column, x}}
        &lt;code class='cell'&gt;
          {{x + 1}},{{y + 1}}:
          &lt;strong&gt;{{row[column]}}&lt;/strong&gt;
        &lt;/code&gt;
      {{/each}}
    &lt;/div&gt;
  {{/each}}
&lt;/div&gt;
          </code></pre>
        </section>
        <section>
          <h4>Await Blocks</h4>
          <pre><code>
{{#await promise}}
  &lt;p&gt;wait for it...&lt;/p&gt;
{{then answer}}
  &lt;p&gt;the answer is {{answer}}!&lt;/p&gt;
{{catch error}}
  &lt;p&gt;well that's odd&lt;/p&gt;
{{/await}}

&lt;script&gt;
  export default {
    data() {
      return {
        promise: new Promise(fulfil => {
          setTimeout(() => fulfil(42), 3000);
        })
      };
    }
  };
&lt;/script&gt;
          </code></pre>
        </section>
        <section>
          <h4>Directives</h4>
          <pre><code>
&lt;button on:click='set({ count: count + 1 })'&gt;+1&lt;/button&gt;
          </code></pre>
        </section>
      </section>
      <section>
        <h2>Svelte Styles</h2>
        <pre style="font-size: 16px;"><code>
&lt;div class='foo' ref:bar&gt;Big red Comic Sans&lt;/div&gt;

&lt;style&gt;
  .foo {
    color: red;
    font-size: 2em;
    font-family: 'Comic Sans MS';
  }
  ref:bar {
    text-decoration: underline;
  }
  p {
    color: black;
    font-size: 16px;
  }
&lt;/style&gt;
        </code></pre>
      </section>
      <section>
        <h2>Svelte Lifecycle</h2>
        <pre><code>
export default {
  oncreate() {
    this.interval = setInterval(() => {
      this.set({ time: new Date() });
    }, 1000);
  },

  ondestroy() {
    clearInterval(this.interval);
  }
};
        </code></pre>
      </section>
      <section>
        <h2>Svelte CLI</h2>
        <pre><code>
Basic options:

-v, --version            Show version number
-h, --help               Show this help message
-i, --input              Input (alternative to &lt;entry file&gt;)
-o, --output &lt;output&gt;    Output (if absent, prints to stdout)
-f, --format [es]        Type of output (amd, cjs, es, iife, umd)
-g, --globals            Comma-separate list of `module ID:Global` pairs
-n, --name               Name for IIFE/UMD export
-m, --sourcemap          Generate sourcemap (`-m inline` for inline map)
-d, --dev                Add dev mode warnings and errors
--amdId                  ID for AMD module (default is anonymous)
--no-css                 Don't include CSS (useful with SSR)
--generate               Change generate format between 'dom' and 'ssr'
        </code></pre>
      </section>
      <section>
        <h2>Sapper</h2>
        <h4>the Svelte app maker</h4>
        <ul class="fragment">
          <li>Routing</li>
          <li>Runtime API</li>
          <li>Preload</li>
          <li>Prefetch</li>
          <li>State Management</li>
          <li>Deployment</li>
          <li>Exporting</li>
          <li>Testing</li>
      </section>
      <section>
        <h2>Svelte</h2>
        <h2>Questions?</h2>
      </section>
      <section>
        <h1>Svelte</h1>
        <h4>The magical disappearing UI framework.</h4>
        <p style="margin-top: 200px">
          <span style="margin-right: 30px">Jeff Shamley</span>
          <span style="margin-left: 30px">@jeff_shamley</span>
        </p>
      </section>
    </div>
  </div>
  <script src="node_modules/reveal.js/lib/js/head.min.js"></script>
  <script src="node_modules/reveal.js/js/reveal.js"></script>
  <script>
    Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,
      transition: 'slide',
      dependencies: [
        { src: 'node_modules/reveal.js/lib/js/classList.js', condition: function () { return !document.body.classList; } },
        { src: 'node_modules/reveal.js/plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
        { src: 'node_modules/reveal.js/plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
        { src: 'node_modules/reveal.js/plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
        { src: 'node_modules/reveal.js/plugin/zoom-js/zoom.js', async: true },
        { src: 'node_modules/reveal.js/plugin/notes/notes.js', async: true }
      ]
    });
  </script>
</body>

</html>